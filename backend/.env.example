# ==========================================
# BLOCKCHAIN CONFIGURATION
# ==========================================
CHAIN_NAME=polygon-amoy
CHAIN_ID=80002
RPC_URL=https://rpc-amoy.polygon.technology
# Alternative RPC: https://polygon-amoy.g.alchemy.com/v2/YOUR_KEY
RPC_WEBSOCKET_URL=wss://polygon-amoy.g.alchemy.com/v2/YOUR_KEY

# Block to start indexing from (your deployment block)
START_BLOCK=0

# ==========================================
# SMART CONTRACT ADDRESSES (Real Estate Platform)
# ==========================================
# RealEstateToken (ERC-20) - RES token
RES_TOKEN_ADDRESS=0x...

# PropertyNFT (ERC-721) - Unique properties
PROPERTY_NFT_ADDRESS=0x...

# KYCRegistry - Whitelist/Blacklist management
KYC_REGISTRY_ADDRESS=0x...

# Uniswap V2 Factory (for DEX)
UNISWAP_FACTORY_ADDRESS=0x...

# RES/MATIC Pair Address (your liquidity pool)
RES_MATIC_PAIR_ADDRESS=0x...

# PriceOracle contract
PRICE_ORACLE_ADDRESS=0x...

# ==========================================
# ORACLE CONFIGURATION
# ==========================================
# Private key for oracle bot (needs MATIC for gas)
ORACLE_PRIVATE_KEY=0x...

# Update interval (10 minutes = 600000 ms)
PRICE_UPDATE_INTERVAL=600000

# Price API (CoinGecko or custom)
PRICE_API_URL=https://api.coingecko.com/api/v3/simple/price
PRICE_API_KEY=

# Mock price mode for testing (true/false)
USE_MOCK_PRICE=false
MOCK_PRICE_USD=100

# ==========================================
# DATABASE (PostgreSQL)
# ==========================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=real_estate_indexer
DB_USER=postgres
DB_PASSWORD=your_password
# Connection pool settings
DB_POOL_MIN=2
DB_POOL_MAX=10

# ==========================================
# API SERVER
# ==========================================
PORT=3000
NODE_ENV=development
# CORS - Frontend URLs
CORS_ORIGIN=http://localhost:5173,http://localhost:3001

# ==========================================
# INDEXER SETTINGS
# ==========================================
# Sync interval (30 seconds = 30000 ms)
SYNC_INTERVAL=30000

# How many blocks to fetch per batch
BATCH_SIZE=1000

# Delay between batches to avoid rate limits
BATCH_DELAY=500

# Enable real-time WebSocket listening (true/false)
ENABLE_REALTIME_SYNC=true

# ==========================================
# NOTIFICATIONS (Optional)
# ==========================================
DISCORD_WEBHOOK_URL=
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# ==========================================
# LOGGING
# ==========================================
LOG_LEVEL=info
LOG_FILE=./logs/backend.log

# ==========================================
# DEPLOYMENT (Railway/Render)
# ==========================================
# Railway automatically sets PORT
# Make sure to add DATABASE_URL in Railway dashboard