# ğŸ  Real Estate Tokenization Platform

A complete blockchain platform for tokenizing real estate assets on **Ethereum Sepolia testnet** with KYC compliance, DEX trading, and real-time pricing.

## ğŸ“‹ Project Overview

This platform enables:
- **Tokenize real estate assets** as ERC-20 tokens (fractional ownership) and ERC-721 NFTs (property certificates)
- **KYC compliance** with on-chain whitelist/blacklist registry
- **DEX trading** via Uniswap V2 with automated market-making
- **Real-time price oracle** for RES token valuation
- **Blockchain indexer** for event tracking and analytics
- **Modern web interface** with Web3 wallet integration

## âœ… Fully Implemented Features

### Smart Contracts (Sepolia Testnet)
- âœ… **KYCRegistry** (`0xFfc2bd2AbC7b4e86F306F659e2Caf219744e30a2`)
  - Whitelist/blacklist management
  - Access control for compliant trading

- âœ… **RealEstateToken (RES)** (`0x6cBf802Ba94639Bb74E64e883D9FCb80114F17EF`)
  - ERC-20 token representing 1/1000th ownership of $500k property
  - 1000 RES total supply (1 RES = $500 property value)
  - KYC-enforced transfers

- âœ… **PropertyNFT** (`0x28304461fb1e65EDDcb8998195B47EC770A447CD`)
  - ERC-721 NFT for unique property certificates
  - IPFS metadata support

- âœ… **SimpleTokenFactory** (`0xF62643BD23124c7f279D5f2073956039ba44699C`)
  - Factory for creating new ERC-20 and ERC-721 tokens

### DEX Integration (Uniswap V2 on Sepolia)
- âœ… **Liquidity Pool**: RES/WETH pair (`0x8DB5219a28376ff2bEd277459D6845EcF115f813`)
- âœ… **Router**: Whitelisted for KYC compliance (`0xeE567Fe1712Faf6149d80dA1E6934E354124CfE3`)
- âœ… **Active liquidity**: 100 RES + 0.01 ETH
- âœ… **Functional trading**: Swap ETH â†” RES with live pricing

### Backend Services
- âœ… **Oracle Service** (Port 3001)
  - Real-time RES token pricing via Uniswap V2 reserves
  - XRP/USD reference price from CoinGecko
  - Auto-updates every 60 seconds
  - REST API for price queries

- âœ… **Indexer Service** (Port 3002)
  - Monitors KYC events (Whitelist/Blacklist)
  - Tracks RES token transfers
  - Syncs blockchain state every 60 seconds
  - REST API for event queries

### Frontend (React + RainbowKit + Wagmi)
- âœ… **Modern UI** with purple crypto theme (Uniswap-style)
- âœ… **Wallet integration** via RainbowKit (MetaMask, WalletConnect, etc.)
- âœ… **Portfolio dashboard** with real-time balances and valuations
- âœ… **Token creation** interface for ERC-20 and ERC-721
- âœ… **DEX trading** interface with live swap functionality
- âœ… **KYC status checker** for address verification
- âœ… **Responsive design** with glassmorphism and gradients

### Testing & Quality
- âœ… **Unit tests** for all contracts (10 tests passing)
- âœ… **Integration tests** for end-to-end workflows
- âœ… **Manual testing** completed on Sepolia testnet

## ğŸš€ Quick Start

### Prerequisites
- Node.js v18+
- MetaMask wallet
- Sepolia ETH (get from [Sepolia Faucet](https://sepoliafaucet.com/))

### 1. Clone and Install
```bash
git clone https://github.com/VictorouDoc/Blockchain.git
cd Blockchain

# Install blockchain dependencies
cd blockchain && npm install && cd ..

# Install backend dependencies
cd backend && npm install && cd ..

# Install frontend dependencies
cd frontend && npm install && cd ..
```

### 2. Environment Configuration

**Root `.env`** (for blockchain deployment):
```bash
PRIVATE_KEY=your_metamask_private_key
ETHERSCAN_API_KEY=your_etherscan_api_key
SEPOLIA_RPC_URL=https://ethereum-sepolia-rpc.publicnode.com
```

**Frontend `.env`** (already configured in `frontend/.env`):
```bash
# WalletConnect
VITE_WC_PROJECT_ID=922ffe9f4c90b8ee4d892f4df830abf9

# Network
VITE_NETWORK=sepolia
VITE_SEPOLIA_RPC_URL=https://ethereum-sepolia-rpc.publicnode.com

# Contract addresses
VITE_KYC_REGISTRY_ADDRESS=0xFfc2bd2AbC7b4e86F306F659e2Caf219744e30a2
VITE_ERC20_ADDRESS=0x6cBf802Ba94639Bb74E64e883D9FCb80114F17EF
VITE_ERC721_ADDRESS=0x28304461fb1e65EDDcb8998195B47EC770A447CD
VITE_TOKEN_FACTORY_ADDRESS=0xF62643BD23124c7f279D5f2073956039ba44699C

# Uniswap V2 on Sepolia
VITE_UNISWAP_ROUTER=0xeE567Fe1712Faf6149d80dA1E6934E354124CfE3
VITE_UNISWAP_FACTORY=0xF62c03E08ada871A0bEb309762E260a7a6a880E6
VITE_WETH=0xfFf9976782d46CC05630D1f6eBAb18b2324d6B14
VITE_RES_WETH_PAIR=0x8DB5219a28376ff2bEd277459D6845EcF115f813

# Backend services
VITE_ORACLE_BASE_URL=http://localhost:3001
VITE_INDEXER_BASE_URL=http://localhost:3002
```

### 3. Run the Platform

**Terminal 1 - Backend Services:**
```bash
cd backend
npm run dev
```
This starts:
- Oracle on http://localhost:3001
- Indexer on http://localhost:3002

**Terminal 2 - Frontend:**
```bash
cd frontend
npm run dev
```
Frontend available at http://localhost:5173

### 4. Using the Platform

1. **Connect wallet** - Click "Connect Wallet" and select MetaMask (switch to Sepolia testnet)
2. **Check KYC status** - Verify your address is whitelisted (contact admin if not)
3. **View portfolio** - See your RES balance, NFT count, and estimated value
4. **Trade tokens** - Use the Trading tab to swap ETH â†” RES
5. **Create tokens** - Use Token Creation tab to deploy new ERC-20 or ERC-721 contracts

## ğŸ“ Project Structure

```
Blockchain/
â”œâ”€â”€ contracts/                      # Solidity smart contracts
â”‚   â”œâ”€â”€ KYCRegistry.sol            # Whitelist/blacklist registry
â”‚   â”œâ”€â”€ RealEstateToken.sol        # ERC-20 token for property shares
â”‚   â”œâ”€â”€ PropertyNFT.sol            # ERC-721 for property certificates
â”‚   â”œâ”€â”€ SimpleTokenFactory.sol     # Token factory contract
â”‚   â””â”€â”€ interfaces/                # Uniswap V2 interfaces
â”œâ”€â”€ blockchain/
â”‚   â”œâ”€â”€ scripts/
â”‚   â”‚   â”œâ”€â”€ deploy-sepolia.js      # Deploy all contracts to Sepolia
â”‚   â”‚   â”œâ”€â”€ create-pair-sepolia.js # Create Uniswap V2 pair
â”‚   â”‚   â”œâ”€â”€ add-liquidity-sepolia.js # Add liquidity to pool
â”‚   â”‚   â””â”€â”€ whitelist-router.js    # Whitelist Uniswap contracts
â”‚   â”œâ”€â”€ test/
â”‚   â”‚   â””â”€â”€ SmartContracts.test.js # Contract unit tests
â”‚   â”œâ”€â”€ deployments/
â”‚   â”‚   â””â”€â”€ sepolia-latest.json    # Deployed contract addresses
â”‚   â””â”€â”€ hardhat.config.js
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ oracle.js                  # Price oracle service (port 3001)
â”‚   â”œâ”€â”€ indexer.js                 # Blockchain indexer (port 3002)
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/            # React components
â”‚   â”‚   â”‚   â”œâ”€â”€ Portfolio.jsx      # Balance & valuation dashboard
â”‚   â”‚   â”‚   â”œâ”€â”€ TradingInterface.jsx # DEX swap interface
â”‚   â”‚   â”‚   â”œâ”€â”€ TokenCreation.jsx  # Token factory UI
â”‚   â”‚   â”‚   â””â”€â”€ KYCStatus.jsx      # KYC checker
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”œâ”€â”€ useContracts.js    # Contract configs & ABIs
â”‚   â”‚   â”‚   â””â”€â”€ useOracle.js       # Price oracle hook
â”‚   â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”‚   â””â”€â”€ wagmi.js           # Web3 configuration
â”‚   â”‚   â”œâ”€â”€ App.jsx                # Main app component
â”‚   â”‚   â””â”€â”€ index.css              # Purple crypto theme styles
â”‚   â”œâ”€â”€ .env                       # Frontend environment config
â”‚   â””â”€â”€ package.json
â””â”€â”€ README.md                      # This file
```

## ğŸ› ï¸ Development Commands

### Smart Contracts
```bash
cd blockchain

# Compile contracts
npx hardhat compile

# Run tests
npx hardhat test

# Deploy to Sepolia
node scripts/deploy-sepolia.js

# Create DEX pair
node scripts/create-pair-sepolia.js

# Add liquidity
node scripts/add-liquidity-sepolia.js

# KYC Management
node scripts/whitelist-address.js <address>  # Whitelist any address
node scripts/whitelist-router.js            # Whitelist Uniswap contracts
```

### Backend Services
```bash
cd backend

# Start both services
npm run dev

# Start oracle only
npm run oracle

# Start indexer only
npm run indexer
```

### Frontend
```bash
cd frontend

# Development server
npm run dev

# Production build
npm run build

# Preview build
npm run preview
```

## ğŸ¤” Technical Choices & Architecture

### Why Ethereum Sepolia?
- âœ… Mature ecosystem with battle-tested tools (Hardhat, ethers.js)
- âœ… Official Uniswap V2 deployment available
- âœ… Reliable and well-documented testnet
- âœ… Easy access to faucets for testing
- âœ… Large developer community for support

### Architecture Decisions
1. **Smart Contracts**
   - Solidity 0.8.20 for latest security features
   - Modular design with separate contracts for KYC, tokens, and factory
   - On-chain KYC enforcement for maximum security
   - Factory pattern for easy token creation

2. **Frontend**
   - React + Vite for fast development and better DX
   - RainbowKit + Wagmi for seamless wallet integration
   - TailwindCSS for responsive design
   - Real-time blockchain state updates

3. **Backend Services**
   - Lightweight Node.js services
   - Modular architecture (oracle + indexer)
   - REST APIs for easy integration
   - 60-second sync intervals for optimal performance

4. **Development Workflow**
   - Hardhat for contract development
   - Comprehensive test suite
   - Clear deployment scripts
   - Easy-to-use admin tools

### Security Considerations
1. **KYC System**
   - On-chain verification for all transfers
   - Whitelist/blacklist mechanisms
   - Admin controls for compliance

2. **Trading Security**
   - Only whitelisted addresses can trade
   - DEX integration with verified contracts
   - Price oracle for fair valuations

## ğŸŒ API Endpoints

### Oracle Service (http://localhost:3001)
- `GET /api/price/xrp` - XRP/USD price from CoinGecko
- `GET /api/price/res` - RES token price from Uniswap V2
- `GET /api/health` - Service health check

### Indexer Service (http://localhost:3002)
- `GET /api/events/kyc` - KYC whitelist/blacklist events
- `GET /api/events/transfers` - RES token transfer events
- `GET /api/stats` - Blockchain statistics
- `GET /api/health` - Service health check

## ğŸ“ Smart Contract Details

### RealEstateToken (RES)
- **Symbol**: RES
- **Decimals**: 18
- **Total Supply**: 1,000 RES
- **Property Value**: $500,000 USD
- **Price per Token**: $500/RES (1 RES = 0.001 property ownership)
- **Property**: 123 Main St, Paris
- **KYC**: Required for all transfers

### KYCRegistry
- **Owner-only controls**: Only contract owner can whitelist/blacklist
- **Whitelisted addresses**: Can send/receive RES tokens and NFTs
- **Blacklisted addresses**: Blocked from all token operations
- **Uniswap integration**: Router and Pair contracts whitelisted

### PropertyNFT
- **Standard**: ERC-721
- **Use case**: Unique property certificates
- **Metadata**: IPFS-stored (address, area, value, images)
- **KYC**: Enforced on transfers

## ğŸ§ª Testing

All smart contracts have comprehensive test coverage:

```bash
cd blockchain
npx hardhat test
```

**Test results:**
```
âœ“ KYCRegistry: Should deploy with correct owner
âœ“ KYCRegistry: Should whitelist address
âœ“ KYCRegistry: Should blacklist address
âœ“ RealEstateToken: Should deploy with correct name and symbol
âœ“ RealEstateToken: Should mint tokens to owner
âœ“ RealEstateToken: Should enforce KYC on transfers
âœ“ PropertyNFT: Should deploy correctly
âœ“ PropertyNFT: Should mint NFT with metadata
âœ“ PropertyNFT: Should enforce KYC on transfers
âœ“ Integration: Full workflow test

10 passing
```

## ğŸ”— Deployed Contracts (Sepolia)

| Contract | Address | Etherscan |
|----------|---------|-----------|
| KYCRegistry | `0xFfc2bd2AbC7b4e86F306F659e2Caf219744e30a2` | [View](https://sepolia.etherscan.io/address/0xFfc2bd2AbC7b4e86F306F659e2Caf219744e30a2) |
| RealEstateToken | `0x6cBf802Ba94639Bb74E64e883D9FCb80114F17EF` | [View](https://sepolia.etherscan.io/address/0x6cBf802Ba94639Bb74E64e883D9FCb80114F17EF) |
| PropertyNFT | `0x28304461fb1e65EDDcb8998195B47EC770A447CD` | [View](https://sepolia.etherscan.io/address/0x28304461fb1e65EDDcb8998195B47EC770A447CD) |
| TokenFactory | `0xF62643BD23124c7f279D5f2073956039ba44699C` | [View](https://sepolia.etherscan.io/address/0xF62643BD23124c7f279D5f2073956039ba44699C) |
| RES/WETH Pair | `0x8DB5219a28376ff2bEd277459D6845EcF115f813` | [View](https://sepolia.etherscan.io/address/0x8DB5219a28376ff2bEd277459D6845EcF115f813) |

## ğŸ‘¥ Team

- **Victor** - Lead Blockchain Engineer (Smart Contracts, DEX, Testing)
- **Bastien** - Frontend Developer (React, UI/UX, Web3)
- **Sean** - Backend Developer (Oracle, Indexer, APIs)
- **Theo** - DevOps Engineer (Deployment, CI/CD, Documentation)

## ğŸ¯ Project Goals Achieved

âœ… Real estate asset tokenization (ERC-20 + ERC-721)
âœ… On-chain KYC compliance system
âœ… Decentralized trading via Uniswap V2
âœ… Real-time price oracle integration
âœ… Blockchain event indexer
âœ… Modern responsive web interface
âœ… Comprehensive testing suite
âœ… Full Sepolia testnet deployment
âœ… Production-ready architecture

## ğŸ“š Technical Stack

- **Blockchain**: Ethereum (Sepolia testnet)
- **Smart Contracts**: Solidity 0.8.20
- **Development**: Hardhat
- **Testing**: Mocha, Chai
- **Frontend**: React, Vite, TailwindCSS
- **Web3**: RainbowKit, Wagmi, Viem
- **Backend**: Node.js, Express, Ethers.js
- **DEX**: Uniswap V2
- **Oracle**: CoinGecko API + Uniswap reserves

## ğŸ“„ License

ISC

## ğŸ”— Useful Links

- [Hardhat Documentation](https://hardhat.org/docs)
- [Sepolia Testnet Faucet](https://sepoliafaucet.com/)
- [Sepolia Etherscan](https://sepolia.etherscan.io/)
- [Uniswap V2 Docs](https://docs.uniswap.org/contracts/v2/overview)
- [RainbowKit](https://www.rainbowkit.com/)
- [Wagmi](https://wagmi.sh/)
